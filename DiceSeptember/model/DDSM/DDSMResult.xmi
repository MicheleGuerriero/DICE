<?xml version="1.0" encoding="ISO-8859-1"?>
<it.polimi.modaclouds.resourcemodel.cloud:HMR_DDSM
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:it.polimi.modaclouds.resourcemodel.cloud="http://cloud/1.0"
    type="cloudify-dsl_1_1_0"
    id="tosca_definitions_version">
  <hasMasterNode
      name="master"
      cpu="4"
      ram="1256"
      url="url"
      ce_certificate="certificate"
      image_uuid="imageuuid"
      net_uuid="netuuid"
      key_uuid="keyuuid"
      wait_started_interval="60"
      wait_started_timeout="3"
      api_uuid="api_uudi"
      password="password"
      customer="customer"
      masterType="MasterNode">
    <contains_config
        name="config"
        type="config"
        config="">
      <relationships
          type="config_on_master"
          target="master"/>
      <relationships
          type="config_on_worker"
          target="worker"/>
    </contains_config>
    <contains_hadoopRunner
        name="hadoop"
        type="hadoopRunner"
        derived_from="Cloudify.chef.nodes.ApplicationServer">
      <relationships
          type="cloudigy.relationships.container_in"
          target="master"/>
      <relationships
          type="cloudify.relationships.depend_on"
          target="worker_stack"/>
      <relationships
          type="master_stack"
          target="hadoop_on_master"/>
    </contains_hadoopRunner>
    <contains_master_chef
        name="master_stack"
        type="chef_node">
      <relationships
          type="cloudify.relatioships.contained_in"
          target="master"/>
      <relationships
          type="stack_on_config"
          target="config"/>
      <chef_cook_books>- 'recipe[apt::default]'</chef_cook_books>
      <chef_cook_books>- 'recipe[java::default]'</chef_cook_books>
      <chef_cook_books>- 'recipe[hadoop::hadoop_hdfs_namenode]'</chef_cook_books>
      <chef_cook_books>- 'recipe[hadoop::hadoop_yarn_resourcemanager]'</chef_cook_books>
      <chef_cook_books>- 'recipe[hadoop::hadoop_mapreduce_historyserver]'</chef_cook_books>
    </contains_master_chef>
  </hasMasterNode>
  <hasSlaves
      name="worker"
      cpu="16"
      ram="16G"
      disk_size="200"
      url="urlll"
      ce_certificate="certificate"
      image_uuid="imageuuid"
      net_uuid="netuuid"
      server_type="servertype"
      key_uuid="keyuuid"
      wait_started_interval="60"
      wait_started_timeout="3"
      private_ip=""
      api_uuid="apiuuid"
      password="12345"
      customer="customer"
      slaveType="SlaveNode"
      instances="4">
    <contains_worker_chef
        name="worker_stack"
        type="chef_node"
        node_name_prefix="">
      <relationships
          type="cloudigy.relationships.contained_in"
          target="worker"/>
      <relationships
          type="stack_on_config"
          target="config"/>
      <chef_cook_books>- 'recipe[apt::default]'</chef_cook_books>
      <chef_cook_books>- 'recipe[java::default]'</chef_cook_books>
      <chef_cook_books>- 'recipe[hadoop::hadoop_hdfs_datanode]'</chef_cook_books>
      <chef_cook_books>- 'recipe[hadoop::hadoop_yarn_nodemanager]'</chef_cook_books>
    </contains_worker_chef>
    <contains_MySQL
        type="DatabaseNode"
        dbuser=""/>
  </hasSlaves>
  <imports>- http://gooogle.yaml</imports>
  <imports>- http://yahoo.yaml</imports>
  <hasRelationships
      relationName=""/>
  <hasoutputs
      name="mapred_jobhistory">
    <value>master_stack</value>
    <value>chef_attributes</value>
    <value>hadoop</value>
  </hasoutputs>
  <hasoutputs
      name="mapred_job_tracker">
    <value>master_stack</value>
    <value>chef_attributes</value>
    <value>hadoop</value>
    <value>mapred_site</value>
  </hasoutputs>
  <hasinputs
      name="chef_version"
      value="{}"
      description=""/>
  <hasinputs
      name="chef_server"
      value="{}"/>
  <hasinputs
      name="chef_api_uuid"
      value="{}"/>
</it.polimi.modaclouds.resourcemodel.cloud:HMR_DDSM>
